# 1.线程池结构
线程池模块中有工作线程和事件请求处理线程，工作线程默认有8个，事件请求处理线程只有1个  
为每个工作线程都维持一个工作任务队列，事件请求处理线程会将任务分配到每个线程的工作任务队列上  
# 2.线程池工作流程
每当epoll监听到套接字上有新的可读或可写事件发生时就将该事件传递到事件请求处理线程上，为了提高效率，事件请求处理线程会维持两个事件队列，分别是事件请求缓冲队列和事件请求处理队列，只要有新的事件请求，就投入事件请求缓冲队列，事件处理分配器处理完当前任务先对事件请求缓冲队列加锁，然后读取事件请求缓冲队列，随后解锁，处理事件请求处理队列，这样可以避免频繁的加锁和解锁。    

建立两个事件请求队列的目的是为了解决此问题：主线程和工作线程共享请求队列，对请求队列的操作需求加锁，耗费CPU时间  
通过建立两个事件队列，用类似缓冲的方法实现批量读取，缓和主线程和线程池对于请求队列的资源竞争。  



